<p-toast></p-toast>

<div class="toolbar select-none" id="header">
  <div class="start">ML Colab</div>

  <div class="center">
    <p
      routerLink="/home"
      routerLinkActive="active"
      class="ml-2 mr-2 cursor-pointer toolbar-item"
    >
      Home
    </p>
    <p
      routerLink="/news"
      routerLinkActive="active"
      class="ml-2 mr-2 cursor-pointer toolbar-item"
    >
      News
    </p>
    <div id="menu-toggle" class="ml-2 mr-2 cursor-pointer toolbar-item" (click)="showMenu()">
      Algorithms <i class="pi pi-chevron-down algo-chevron"></i>
      <div id="algo-menu" class="algo-menu hidden">
        <p class="cursor-pointer algo-menu-item m-0 mb-2" routerLink="/id3">
          ID3
        </p>
        <div class="separator"></div>
        <p
          class="cursor-pointer algo-menu-item m-0 mb-2 mt-2"
          routerLink="/knn"
        >
          K-NN
        </p>
        <div class="separator"></div>
        <p
          class="cursor-pointer algo-menu-item m-0 mb-2 mt-2"
          routerLink="/hclustering"
        >
          Hierarchical Clustering
        </p>
        <div class="separator"></div>
        <p class="cursor-pointer algo-menu-item m-0 mt-2" routerLink="/kmeans">
          K-Means
        </p>
      </div>
    </div>
  </div>

  <div class="end">
    <button
      *ngIf="!isLoggedIn"
      pButton
      pRipple
      class="p-button-outlined p-button-sm"
      type="button"
      (click)="displayModal = true; setIndex(0)"
      label="Log in"
    ></button>
    <button
      *ngIf="isLoggedIn"
      pButton
      pRipple
      class="p-button-outlined p-button-sm"
      type="button"
      (click)="whoAmI()"
      label="Who Am I?"
    ></button>
    <button
      *ngIf="isLoggedIn"
      pButton
      pRipple
      class="p-button-outlined p-button-sm"
      type="button"
      (click)="logoutUser()"
      label="Log out"
    ></button>
  </div>
</div>

<p-dialog
  [(visible)]="displayModal"
  [modal]="true"
  [dismissableMask]="true"
  [draggable]="false"
  [resizable]="false"
  class="dialog"
>
  <p-tabView [(activeIndex)]="tabViewIndex">
    <p-tabPanel class="tab-panel" header="Log in">
      <div
        class="content flex flex-row justify-content-between align-items-center"
      >
        <div class="graphic-section">ceva</div>
        <div
          class="form-section p-6 flex flex-column align-items-center justify-content-center"
        >
          <p id="welcome-back">Welcome back!</p>
          <p>Please log in to continue.</p>
          <form
            #loginForm
            (submit)="loginUser($event, loginForm)"
            class="flex flex-column"
          >
            <span class="p-float-label">
              <input
                id="username-input"
                name="username"
                type="text"
                pInputText
              />
              <label for="username-input">Username</label>
            </span>
            <span class="p-float-label">
              <input
                type="password"
                name="password"
                pInputText
                inputId="password-input"
              />
              <label for="password-input">Password</label>
            </span>
            <button
              pRipple
              pButton
              type="submit"
              label="Login"
              class="m-2"
            ></button>
          </form>
          <p class="mt-3">
            Are you new here?
            <span class="signup-url" (click)="setIndex(1)">Sign up!</span>
          </p>
        </div>
      </div>
    </p-tabPanel>
    <p-tabPanel class="tab-panel" header="Sign up">
      <div class="content flex flex-column align-items-center">
        <p>Welcome aboard!</p>
        <p>Fill out the form below to sign up.</p>
        <form #registerForm (submit)="registerUser($event, registerForm)" class="flex flex-column">
          <span class="p-float-label">
            <input id="name-input" name="username" type="text" pInputText />
            <label for="name-input">Username</label>
          </span>
          <span class="p-float-label">
            <input
              id="email-signup-input"
              name="email"
              type="text"
              pInputText
            />
            <label for="email-signup-input">E-mail</label>
          </span>
          <span class="p-float-label">
            <p-password
              id="password-input"
              [(ngModel)]="password"
              name="password"
              inputId="password-input"
            ></p-password>
            <label for="password-input">Password</label>
          </span>
          <span class="p-float-label">
            <p-password
              name="password-confirm"
              id="password-confirm-input"
              inputId="password-confirm-input"
              [(ngModel)]="passwordConfirm"
            ></p-password>
            <label for="password-input">Confirm Password</label>
          </span>
          <button
            pRipple
            pButton
            type="submit"
            label="Sign up"
            class="m-2"
          ></button>
        </form>
        <p>
          Already have an account?
          <span class="signup-url" (click)="setIndex(0)">Log in!</span>
        </p>
      </div>
    </p-tabPanel>
  </p-tabView>
</p-dialog>
